= CLInic - User Guide
:site-section: UserGuide
:toc:
:toc-title:
:toc-placement: preamble
:toclevels: 3
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/se-edu/addressbook-level4

By: `Team W16-4`      Since: `Aug 2018`      Licence: `MIT`

== Introduction

*CLInic* is a desktop application that is created for clinics and optimised specifically for clinic receptionists and doctors who *prefer to work with a Command Line Interface (CLI)* while still having the benefits of a Graphical User Interface (GUI).
If you have average to high typing speed and are in need of a clinic management application, CLInic can administer your clinic management tasks more efficiently than traditional GUI apps.
You will have *all the tools* needed to manage your patient and medicine data, complete with an efficient queue management system. Interested? Jump to <<Quick Start>> to get started. Enjoy!

== Quick Start

Follow the steps below to get started with CLInic.

.  Check you have Java version `9` or later installed in your computer.
.  Download the latest `CLInic.jar` link:{repoURL}/releases[here].
.  Copy the file to the folder you want to use as the home folder for your CLInic application.
.  Double-click the file to start the application. The GUI should appear in a few seconds.
+
image::Ui.png[width="790"]
+
.  Type a command in the command box and press kbd:[Enter] to execute it. +
e.g. typing *`help`* and pressing kbd:[Enter] will open the help window.
.  Some example commands you can try:

* *`list`* : shows a list all patients in the database.
* **`add`**`n/John Doe ic/S1234567X p/98765432 e/johnd@example.com a/John Street, Block 123, #01-01` : adds a patient named `John Doe` to the database, along with his personal details (more details in <<Patient>>).
* **`delete`**`3` : deletes the 3rd patient shown in the current list.
* *`exit`* : exits the application.

.  Refer to <<Features>> for the details of each command.

[[Features]]
== Features

====
*Command Format*

* Some commands have an alias, which you can also use to execute the command +
e.g. to add a person to the address book, you can type either `add n/John Doe` or `a n/John Doe`.
* Words in `UPPER_CASE` are the parameters to be supplied by the user +
e.g. in `add n/NAME`, `NAME` is a parameter which can be used as `add n/John Doe`.
* Items in square brackets are optional +
e.g. `[b/BLOOD_TYPE] [da/DRUG_ALLERGY]` can be used as `b/A+ da/Panadol` or as `b/A+`.
* Items with `…`​ after them can be used multiple times including zero times +
e.g. `[da/DRUG_ALLERGY]...` can be used as `{nbsp}` (i.e. 0 times), `da/Panadol`, `da/Panadol da/Zyrtec` etc.
* Parameters can be in any order +
e.g. if the command specifies `n/NAME p/PHONE_NUMBER`, `p/PHONE_NUMBER n/NAME` is also acceptable.
* <INDEX> refers to the index number shown in the current displayed patient or medicine list.
====

// tag::patient[]
=== Patient

==== Adding a patient: `add`

Adds a patient to the CLInic database. +
Alias: `a` +
Format: `add n/NAME ic/IC_NUMBER p/PHONE_NUMBER e/EMAIL a/ADDRESS [t/TAG]...`

[TIP]
A patient can have any number of tags (including 0).

[TIP]
Mandatory parameters can be keyed in any order.

Examples:

* `add n/John Doe p/98765432 e/johnd@example.com a/John Street, block 123, #01-01`
* `add n/Betsy Crowe e/betsycrowe@example.com a/Newgate Drive p/12345678 t/pioneer`

==== Listing all patients: `list`

Shows a list of all patients in the CLInic database. +
Alias: `l` +
Format: `list`

==== Editing a patient: `edit`

Edits an existing patient record in the CLInic database. +
Alias: `e` +
Format: `edit INDEX [n/NAME] [p/PHONE] [e/EMAIL] [a/ADDRESS] [t/TAG]...`

****
* Edits the patient at the specified `INDEX`. The index refers to the index number shown in the displayed patient list. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
* At least one of the optional parameters must be provided.
* Existing values will be updated with the newly input values of the corresponding field.
* When editing tags, the existing tags of the patient will be removed i.e. adding of tags is not cumulative.
* You can remove all the patient's tags by typing `t/` without specifying any tags after the prefix.
****

Examples:

* `edit 1 p/91234567 e/johndoe@example.com` +
Edits the phone number and e-mail address of the 1st patient in the list to `91234567` and `johndoe@example.com` respectively.
* `edit 2 n/Betsy Crowe t/` +
Edits the name of the 2nd patient in the list to `Betsy Crowe` and clears all her existing tags.

==== Locating a patient by name: `find`

Finds a patient whose name contains any of the given keywords. +
Alias: `f` +
Format: `find KEYWORD [MORE_KEYWORDS]`

****
* The search is case insensitive +
e.g. `hans` will match `Hans`.
* The order of the keywords does not matter +
e.g. `Hans Bo` will match `Bo Hans`.
* Only the patient's name is searched
* Only full words will be matched +
e.g. `Han` will not match `Hans`.
* Patients matching at least one keyword will be returned +
e.g. `Hans Bo` will return `Hans Gruber`, `Bo Yang`.
****

Examples:

* `find John` +
Returns `john` and `John Doe`
* `find Betsy Tim John` +
Returns any patient having names `Betsy`, `Tim`, or `John`

==== Deleting a patient: `delete`

Deletes the specified patient from the CLInic database. +
Alias: `d` +
Format: `delete INDEX`

****
* Deletes the patient at the specified `INDEX`. The index refers to the index number shown in the displayed patient list. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `list` +
`delete 2` +
Deletes the 2nd patient in the database.
* `find Betsy` +
`delete 1` +
Deletes the 1st patient in the resulting list of the `find` command.

==== Selecting a patient: `select`

Selects a patient to view his profile. +
Alias: `s` +
Format: `select INDEX`

****
* Selects the patient at the specified `INDEX`. The index refers to the index number shown in the displayed patient list. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `list` +
`select 2` +
Selects the 2nd patient in the whole database.
* `find Betsy` +
`select 1` +
Selects the 1st patient in the resulting list of the `find` command.

// tag::addmedicalrecordcommand[]
==== Adding medical records of a patient: `addMedicalRecord`

Updates the medical records of a patient. +
Alias: `amr` +
Format: `addMedicalRecord INDEX [b/BLOOD_TYPE] [d/PAST_DISEASE]... [da/DRUG_ALLERGY]... [m/NOTE]...`

****
* Updates the medical records of a patient based on the specified `INDEX`. The index refers to the index number shown in the filtered patient list. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
* At least one of the optional parameters must be provided.
* Newly input values will be appended to the existing values of the patient, except `BloodType`. `BloodType` cannot be changed, and thus you can only add `BloodType` to a patient the very first time, and it will be permanent.
* A `Note` usually consists of a `Message` and a `Prescription`. However, using this command does not allow you add any `Prescription`, since it is not meant to be used during the doctor's consultation. Hence, using this command will just add a `Note` with the specified `Message`, but an empty `Prescription`.
****

Examples:

* `addMedicalRecord 5 da/Paracetamol d/Diabetes` +
Adds 'Paracetamol' (under _Drug Allergy_) and 'Diabetes' (under _Past Disease_) to the `MedicalRecord` of the 5th `Patient`.
* `addMedicalRecord 3 b/B+` +
Adds 'B+' (under _Blood Type_) to the `MedicalRecord` of the 3rd `Patient`.
// end::addmedicalrecordcommand[]

// tag::patient[]
// tag::medicine[]
=== Medicine

==== Adding a medicine: `addMedicine`

Adds a medicine to the CLInic inventory. +
Alias: `am` +
Format: `addMedicine mn/MEDICINE_NAME msq/MINIMUM_STOCK_QUANTITY ppu/PRICE_PER_UNIT sn/SERIAL_NUMBER s/STOCK`

Example:

* `addMedicine mn/panadol msq/500 ppu/0.50 sn/1234 s/1000` +
Adds 'panadol' with _minimum stock quantity_ of '500' units, _price per unit_ of $'0.50', _serial number_ '1234', and _stock_ of '500' units to the CLInic inventory.

==== Editing a medicine: `editMedicine`

Edits the details of an existing medicine. +
Alias: `em` +
Format: `editMedicine INDEX [mn/MEDICINE_NAME] [msq/MINIMUM_STOCK_QUANTITY] [ppu/PRICE_PER_UNIT] [sn/SERIAL_NUMBER] [s/STOCK]`

****
* Edits the medicine details at the specified `INDEX`. The index refers to the index number shown in the displayed medicine list. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
* At least one of the optional parameters must be provided.
* Existing values will be updated with the newly input values of the corresponding field.
* You can remove any of the medicine details by typing the prefixes `msq/` `ppu/` `sn/` `s/` without specifying any contents after the prefix.
****

Example:

* `editMedicine 1 n/hydrazine s/50022 p/20 min/30` +
Edits the details of the medicine at index 1 in the displayed medicine list based on the new input parameters.

==== Restocking a medicine: `restock`

Restocks an existing medicine with *additional* quantity. +
Alias: `rs` +
Format: `restock INDEX amt/AMOUNT`

****
* Restocks the medicine at the specified `INDEX`. The index refers to the index number shown in the displayed medicine list. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Example:

* `restock 2 amt/123` +
Updates the stock of medicine at index 2 with an *additional* quantity of 123.

==== Listing all medicines: `listStock`

Lists all medicine stocks in the CLInic inventory. +
Alias: `ls` +
Format: `listStock`

==== Finding details of a medicine: `findMedicine`

Finds the details of a medicine from its medicine name. +
Alias: `fm` +
Format: `findMedicine MEDICINE_NAME`

Example:

* `findMedicine panadol` +
Finds the details of the medicine tagged with the medicine name panadol.


==== Listing medicines that are low in supply: `checkStock`

Lists all medicines that are low in supply. +
Alias: `cs` +
Format: `checkStock`
// tag::medicine[]

// tag::pqms[]
=== Queue Management

==== Registering a patient to Waiting queue: `register`

Registers a patient to the back of the Waiting queue. +
Alias: `reg` +
Format: `register INDEX` or `register IC_NUMBER [coming soon]`

****
* Registers the patient at the specified `INDEX`. The index refers to the index number shown in the displayed patient list. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Example:

* `list` +
`register 3` +
Registers the 3rd patient in the database.
* `find david` +
`register 1` +
Registers the 1st patient in the resulting list of the `find` command.

==== Listing all patients in Waiting queue: `queue`

Lists all patients in the Waiting queue. +
Alias: `q` +
Format: `queue`

==== Removing a patient from Waiting queue: `remove`

Removes a patient from the Waiting queue if he leaves before being served. +
Alias: `rem` +
Format: `remove INDEX` or `remove IC_NUMBER [coming soon]`

****
* Removes the patient at the specified `INDEX`. The index refers to the index number shown in the displayed patient list. The `INDEX` *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `remove 5` +
Removes the 5th patient in the queue.
* `remove S9382839X` +
Removes patient with IC number S9382839X from the queue.

==== Inserting a patient to Waiting queue: `insert`

Inserts a patient into the specified position in the Waiting queue. +
Alias: `ins` +
Format: `insert INDEX p/POSITION` or `insert IC_NUMBER p/POSITION [coming soon]`

****
* Inserts the patient at the specified `INDEX` in the displayed patient list into the specified `POSITION` in the Waiting queue. Both the index and position *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `list` +
`insert 4 p/5` +
Inserts the 4th patient in the database into the 5th position in the queue.
* `insert S9123456A p/5` +
Inserts the patient with IC number S9123456A into the 5th position in the queue.


==== Serving the first patient in Waiting queue: `serve`

Serves the first patient in the Waiting queue. The patient being served is the Current Patient. +
Alias: `ser` +
Format: `serve`

==== Adding document contents to Current Patient: `docAdd`

Adds document contents to the Current Patient. +
Alias: `da` +
Format: `docAdd [mc/MC_DAYS] [n/NOTES] [r/REFERRAL]`

****
* At least one of the optional parameters must be provided.
* Existing values will be updated with the newly input values of the corresponding field.
* You can remove any of the patient's document contents by typing the prefixes `mc/` `n/` `r/` without specifying any contents after the prefix.
****

Examples

* `docAdd mc/3 n/This patient complains of headache for the past 3 days` +
Adds MC duration and notes to the Current Patient.
* `docAdd r/Ng Teng Fong Hospital` +
Adds referral to the Current Patient.

==== Dispensing medicine to Current Patient: `dispenseMedicine`

Dispenses the specified quantity of medicine to the Current Patient. +
Alias: `dm` +
Format `dispenseMedicine MEDICINE_INDEX amt/AMOUNT`

****
* Dispenses medicine at the specified `MEDICINE_INDEX` to the Current Patient. The index refers to the index number shown in the displayed medicine list. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `dispenseMedicine 1 amt/10` +
10 units of the 1st medicine in the displayed medicine list will be added to the Current Patient. +
* `dispenseMedicine 5 amt/2` +
2 units of the 5th medicine in the displayed medicine list will be added to the Current Patient.

==== Finishing service of the Current Patient: `finish`

Transfers the Current Patient to the Served Patient queue. +
Format: `finish`

[NOTE]
====
This command cannot be called if no notes have been added to the patient. Use `docAdd` command with prefix `n/` to add `NOTES`.
====

==== Removing patient from Served Patient queue: `payment`

Removes a patient from the Served Patient queue when the patient completes payment. +
Alias: `pay` +
Format: `payment INDEX`

****
* Removes the patient at the specified `INDEX`. The index refers to the index number shown in the Served Patient queue. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `payment 3` +
Removes the 3rd patient from the queue.
* `payment 1` +
Removes the 1st patient from the queue.

// end::pqms[]

// tag::document[]
=== Document Generation

==== Generating medical certificate: `mc`

Generates medical certificate for a Served Patient. +
Format: `mc INDEX`

****
* Generates a medical certificate for the patient at the specified `INDEX`. The index refers to the index number shown in the Served Patient queue. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `mc 1` +
Generates a medical certificate for the 1st patient in the Served Patient queue.

==== Generating receipt: `receipt`

Generates receipt for a Served Patient. +
Alias: `rct` +
Format: `receipt INDEX`

****
* Generates a receipt for the patient at the specified `INDEX`. The index refers to the index number shown in the Served Patient queue. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `receipt 5` +
Generates a receipt for the 5th patient in the Served Patient queue.

==== Generating referral letter: `refer`

Generates referral letter for a Served Patient. +
Alias: `rl` +
Format: `refer INDEX`

****
* Generates a referral letter for the patient at the specified `INDEX`. The index refers to the index number shown in the Served Patient queue. The index *must be a positive integer* (i.e. 1, 2, 3, ...).
****

Examples:

* `refer 7` +
Generates a receipt for the 7th patient in the Served Patient queue.
// end::document[]

// tag::misc[]
=== Miscellaneous

==== Viewing help: `help`

Format: `help`

==== Listing entered commands: `history`

Lists all the commands entered in reverse chronological order. +
Alias: `h` +
Format: `history`

[NOTE]
====
Pressing the kbd:[&uarr;] and kbd:[&darr;] arrows will display the previous and next input respectively in the command box.
====

// tag::undoredo[]
==== Undoing previous command: `undo`

Restores the address book to the state before the previous _undoable_ command was executed. +
Alias: `u` +
Format: `undo`

[NOTE]
====
Undoable commands: those commands that modify the database's content (`add`, `delete`, `edit` and `deleteAll`).
This includes all commands that change the `Patient` or `Medicine` class, and PQMS-related commands.
====

Examples:

* `delete 1` +
`list` +
`undo` (reverses the `delete 1` command) +

* `select 1` +
`list` +
`undo` +
The `undo` command fails as there are no undoable commands executed previously.

* `delete 1` +
`deleteAll` +
`undo` (reverses the `deleteAll` command) +
`undo` (reverses the `delete 1` command) +

* `addMedicine mn/panadol msq/100 ppu/5 sn/00000001 s/2500` +
`undo` (reverses the `addMedicine` command)

==== Redoing the previously undone command: `redo`

Reverses the most recent `undo` command. +
Alias: `r` +
Format: `redo`

Examples:

* `delete 1` +
`undo` (reverses the `delete 1` command) +
`redo` (reapplies the `delete 1` command) +

* `delete 1` +
`redo` +
The `redo` command fails as there are no `undo` commands executed previously.

* `delete 1` +
`deleteAll` +
`undo` (reverses the `deleteAll` command) +
`undo` (reverses the `delete 1` command) +
`redo` (reapplies the `delete 1` command) +
`redo` (reapplies the `deleteAll` command) +
// end::undoredo[]

==== Exiting the program: `exit`

Exits the program. +
Format: `exit`

==== Saving the data

CLInic data are saved in the hard disk automatically after any command that changes the data. +
There is no need to save manually.
// end::misc[]

== FAQ

*Q*: How do I transfer my data to another computer? +
*A*: Install the application in the other computer and overwrite the empty data file it creates with the file that contains the data of your previous CLInic folder.

== Command Summary

=== Patient

[width="59%",cols="5%,<2%,<50%,<42%",options="header",]
|=======================================================================
|Command Word |Command Alias |Format|Example
|add |`a`  |`add n/NAME ic/IC_NUMBER p/PHONE_NUMBER e/EMAIL a/ADDRESS [t/TAG]…​` |`add n/John Doe p/98765432 e/johnd@example.com a/John Street, block 123, #01-01`
|list |`l`  | `list` |`list`
|edit |`e`  |`edit INDEX [n/NAME] [p/PHONE] [e/EMAIL] [a/ADDRESS] [t/TAG]…​` |`edit 1 p/91234567 e/johndoe@example.com`
|find |`f`  |`find KEYWORD [MORE_KEYWORDS]​` |`find Betsy Tim John`
|delete |`d`  |`delete INDEX` |`delete 2`
|select |`s`  |`select INDEX` |`select 3`
|addMedicalRecord |`amr`  |`addMedicalRecord INDEX [b/BLOOD_TYPE] [d/PAST_DISEASE]…​ [da/DRUG_ALLERGY]…​ [m/NOTE]…`​ or +
                            `addMedicalRecord IC_NUMBER [b/BLOOD_TYPE] [d/PAST_DISEASE]…​ [da/DRUG_ALLERGY]…​ [m/NOTE]…​​` |`addMedicalRecord 5 b/A+ da/Paracetamol d/Diabetes` or +
                            `addMedicalRecord S94738123X b/B+`
|=======================================================================

=== Medicine

[width="59%",cols="5%,<2%,<50%,<42%",options="header",]
|=======================================================================
|Command Word |Command Alias |Format|Example
|addMedicine |`am`  |`​addMedicine mn/MEDICINE_NAME msq/MINIMUM_STOCK_QUANTITY ppu/PRICE_PER_UNIT sn/SERIAL_NUMBER s/STOCK` |`addMedicine mn/panadol msq/500 ppu/0.50 sn/1234 s/1000`
|editMedicine |`em`  | `editMedicine INDEX [mn/MEDICINE_NAME] [msq/MINIMUM_STOCK_QUANTITY] [ppu/PRICE_PER_UNIT] [sn/SERIAL_NUMBER] [s/STOCK]` |`editMedicine 1 n/hydrazine s/50022 p/20 min/30`
|restock |`rs`  |`restock INDEX amt/AMOUNT` |`restock 2 amt/123`
|listStock |`ls`  |`listStock` |`listStock`
|findMedicine |`fm`  |`findMedicine SERIAL_NUMBER` |`findMedicine 1001`
|checkStock |`cs`  |`checkStock` |`checkStock`
|=======================================================================

=== Queue Management

[width="59%",cols="5%,<2%,<50%,<42%",options="header",]
|=======================================================================
|Command Word |Command Alias |Format|Example
|register |`reg`  |`register INDEX​` |`register 1`
|queue |`q`  | `queue` |`queue`
|remove |`rem`  |`remove INDEX` |`remove 2`
|insert |`ins`  |`insert INDEX p/POSITION` |`insert 3 p/4`
|serve |`ser`  |`serve` |`serve`
|docAdd |`da`  |`docAdd [mc/MC_DAYS] [n/NOTES] [r/REFERRAL]` |`docAdd mc/3 n/This patient complains of headache for the past 3 days`
|dispenseMedicine |`dm`  |`dispenseMedicine MEDICINE_INDEX amt/AMOUNT` |`dispenseMedicine 5 amt/10`
|finish |- |`finish` |`finish`
|payment |`pay`  |`payment INDEX` |`payment 6`
|=======================================================================

=== Document Generation

[width="59%",cols="5%,<2%,<50%,<42%",options="header",]
|=======================================================================
|Command Word |Command Alias |Format|Example
|medicalcertificate | `mc`  |`mc INDEX​` |`mc 1`
|receipt |`rec`  | `receipt INDEX` |`receipt 2`
|referralletter |`rl`  |`refer INDEX` |`refer 3`
|=======================================================================

=== Miscellaneous

[width="59%",cols="5%,<2%,<50%,<42%",options="header",]
|=======================================================================
|Command Word |Command Alias |Format|Example
|help |-  |`help​` |`help`
|history |`h`  | `history` |`history`
|undo |`u`  |`undo` |`undo`
|redo |`r`  |`redo` |`redo`
|exit |-  |`exit` |`exit`
|=======================================================================
