<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Current Patient View</title>
    <link rel="stylesheet" type="text/css" href="CurrentPatientView.css">
    <script>
        function getJsonFromUrl() {
            var query = location.search.substr(1);
            var result = {};
            query.split("&").forEach(function(part) {
                var item = part.split("=");
                result[item[0]] = decodeURIComponent(item[1]);
            });
            return result;
        }

        document.addEventListener("DOMContentLoaded", function(event) {
            document.getElementById("name").innerHTML=getJsonFromUrl().name;
            document.getElementById("ic").innerHTML=getJsonFromUrl().ic;
            document.getElementById("address").innerHTML=getJsonFromUrl().address;
            document.getElementById("phone").innerHTML=getJsonFromUrl().phone;
            document.getElementById("email").innerHTML=getJsonFromUrl().email;
            document.getElementById("blood").innerHTML=getJsonFromUrl().blood;
            document.getElementById("diseases").innerHTML=getJsonFromUrl().diseases;
            document.getElementById("drugs").innerHTML=getJsonFromUrl().drugs;
            document.getElementById("notes").innerHTML=getJsonFromUrl().notes;
            document.getElementById("mcContent").innerHTML=getJsonFromUrl().mcContent;
            document.getElementById("referralContent").innerHTML=getJsonFromUrl().referralContent;
            document.getElementById("noteContent").innerHTML=getJsonFromUrl().noteContent;
            document.getElementById("allocatedMedicine").innerHTML=getJsonFromUrl().allocatedMedicine;
        });
    </script>
</head>
<body>
<div class="left-table-container" id="left-current-patient-table">
    <div class="table-title">Current Patient</div>
    <table class="blue-alt-cols">
        <tr>
            <td class="left-table-cols">MC:</td>
            <td><span id="mcContent"></span></td>
        </tr>
        <tr>
            <td class="left-table-cols">Referral:</td>
            <td><span id="referralContent"></span></td>
        </tr>
    </table>
</div>
<div class="right-table-container" id="right-current-patient-table">
    <div class="table-title invisible">Current Patient</div>
    <table class="blue-alt-cols">
        <tr>
            <td class="right-table-cols">Today's Notes:</td>
            <td><span id="noteContent"></span></td>
        </tr>
        <tr>
            <td class="right-table-cols">Today's Prescriptions:</td>
            <td><span id="allocatedMedicine"></span></td>
        </tr>
    </table>
</div>

<div class="left-table-container">
    <div class="table-title">Personal Details</div>
    <table class="blue-alt-cols">
        <tr>
            <td class="left-table-cols">Name</td>
            <td><span id="name"></span></td>
        </tr>
        <tr>
            <td class="left-table-cols">IC Number</td>
            <td><span id="ic"></span></td>
        </tr>
        <tr>
            <td class="left-table-cols">Address</td>
            <td><span id="address"></span></td>
        </tr>
        <tr>
            <td class="left-table-cols">HP Number</td>
            <td><span id="phone"></span></td>
        </tr>
        <tr>
            <td class="left-table-cols">Email</td>
            <td><span id="email"></span></td>
        </tr>
    </table>
</div>

<div class="right-table-container">
    <div class="table-title">Medical Records</div>
    <table class="blue-alt-cols">
        <tr>
            <td class="right-table-cols">Blood Type</td>
            <td><span id="blood"></span></td>
        </tr>
        <tr>
            <td class="right-table-cols">Disease History</td>
            <td><span id="diseases"></span></td>
        </tr>
        <tr>
            <td class="right-table-cols">Drug Allergies</td>
            <td><span id="drugs"></span></td>
        </tr>
        <tr>
            <td class="right-table-cols">Notes</td>
            <td><span id="notes"></span></td>
        </tr>
    </table>
</div>
</body>
</html>