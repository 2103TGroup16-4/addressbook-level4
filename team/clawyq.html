<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Clinton Law - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level3">AB-3</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">AddressBook-Level4</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/se-edu/addressbook-level4"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Clinton Law - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-clinic"><a class="link" href="#project-clinic">PROJECT: CLInic</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This Project Portfolio Page documents my contributions to the development of <code>CLInic</code>, the product of a team of five
students from NUS School Of Computing as part of the <code>CS2103T Software Engineering</code> module. The main
features of the application are coded in <code>Java</code> while the GUI is handled by <code>JavaFX</code>, <code>HTML</code> and <code>CSS</code>.</p>
</div>
<div class="paragraph">
<p><code>CLInic</code> is a desktop application made to manage and expedite operations in clinics. The efficiency of typing commands
yet cryptic walls of intimidating text of the CLI were the main impetus behind <code>CLInic</code>. <code>CLInic</code> marries the
<strong>simplistic design</strong> and <strong>efficient command issuing mechanism</strong> of the CLI with an <strong>intuitive</strong> Graphical User
Interface (GUI). This culminated in an application that is easy for <strong>anyone</strong> to use, all while providing the powerful
 functionalities and efficiencies offered by a CLI. Below are some of the key features provided by <code>CLInic</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Allows users to manage patient and medicine information</p>
</li>
<li>
<p>Allows users to easily generate documents to be issued by a clinic like <code>Medical Certificates</code> efficiently</p>
</li>
<li>
<p>Provides intuitive workarounds to normally arduous but common administrative tasks such as restocking
and dispensing medicine</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I played a major role in the development of the <code>Document</code> class, the relevant <code>Receipt</code>, <code>MedicalCertificate</code>
and <code>ReferralLetter</code> classes that extend it and the relevant patient management operations that are required for
them to work.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Implemented the <code>Document</code> class, its accompanying HTML template and
extending classes, which includes the <code>Receipt</code>, <code>MedicalCertificate</code> and <code>ReferralLetter</code> classes.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: It takes in the information of a document that is to be printed by the clinic and
generates a <code>HTML</code> file for it.</p>
</li>
<li>
<p>Justification: This functionality simplifies the generation of documents that are required by the clinic.
This makes the administrative tasks in the clinic easier and faster, <strong>boosting the productivity of its users</strong>,
 translating into <strong>shorter wait times at the clinic for the patients</strong>.</p>
</li>
<li>
<p>Highlights: This functionality allows for <strong>seamless transfer of information from doctors to receptionists</strong>
of the clinic during consultation, which when coupled with the fast retrieval of information from the
application&#8217;s database of <code>Patient</code> and <code>Medicine</code> information, makes for <strong>efficient generation of relevant
documents</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancements</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Improved and helped with the implementation of <code>ServedPatient</code> and <code>ServedPatientListManager</code>, which are intermediate
abstractions(placeholders) that help to 'finalise' the information to be used for the generation of <code>Document</code>.</p>
</li>
<li>
<p>Integrated <code>MedicalCertificate</code> with the <code>DocumentAddContentCommand</code>.</p>
</li>
<li>
<p>Designed the <code>HTML</code> template which all the classes that extend <code>Document</code> use to format their information.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: View my code for the project <a href="https://nus-cs2103-ay1819s1.github.io/cs2103-dashboard/#=undefined&amp;search=clawyq&amp;sort=displayName&amp;since=2018-09-12&amp;until=2018-11-07&amp;timeframe=day&amp;reverse=false&amp;repoSort=true">here</a>!</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Enhancements to features:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote tests for various features to increase coverage from 59% to 63% (Pull requests: <a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/97">#97</a>,
<a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/98">#98</a>,
<a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/104">#104</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reviewed PRs and provided constructive feedback: (Pull requests: <a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/110">#110</a>,
<a href="https://github.com/clawyq/main/pull/6">#119</a>,
<a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/120">#120</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote the introduction to the User Guide (Pull Request: <a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/134">#134</a>)</p>
</li>
<li>
<p>Added many examples in the User Guide to demonstrate how various commands work. (Pull Request: <a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/138">#138</a>)</p>
</li>
<li>
<p>Standardised the formatting of the User Guide and corrected any incorrect use of language. (Pull Requests: <a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/139">#139</a>,
<a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/172">#172</a>,
<a href="https://github.com/CS2103-AY1819S1-W16-4/main/pull/174">#174</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are the sections I have contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="big underline"><strong>Implementation of the Patient Record Management System</strong></span></p>
</div>
<div class="sect3">
<h4 id="adding-a-patient-code-add-code"><a class="link" href="#adding-a-patient-code-add-code">Adding a patient: <code>add</code></a></h4>
<div class="paragraph">
<p>Did someone just walk in, wanting to see the doctor?<br>
Add him to CLInic&#8217;s patient database using the <code>add</code> command!<br>
Alias: <code>a</code><br>
Format: <code>add n/NAME ic/IC_NUMBER p/PHONE_NUMBER e/EMAIL a/ADDRESS [t/TAG]&#8230;&#8203;</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Pro tip(s):</div>
<div class="ulist">
<ul>
<li>
<p>A patient can have any number of tags (including 0).</p>
</li>
<li>
<p>Mandatory parameters can be keyed in any order.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Important:</div>
Omission of <strong>any</strong> mandatory parameters will result in the failure of adding the patient to the database.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Upon successful execution, you should see the patient with his details added to the patient list on the right.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add n/Clinton Law ic/S9638902L p/97947435 e/clinton@cs2103t.com a/Tembusu College</code><br>
Adds a patient named <code>Clinton Law</code>, with IC number <code>S9638902L</code>, phone number <code>97947435</code>, email <code>clinton@cs2103t.com</code> and address of <code>Tembusu College</code> to CLInic&#8217;s patient database, as shown below.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AddEx1.png" alt="AddEx1" width="600">
</div>
<div class="title">Figure 1. After executing the <code>add</code> command specified above <strong>and</strong> left clicking <code>Clinton&#8217;s</code> patient card in the patient list on the right, indicated by the black cursor.</div>
</div>
</div>
<div class="sect3">
<h4 id="editing-a-patient-code-edit-code"><a class="link" href="#editing-a-patient-code-edit-code">Editing a patient: <code>edit</code></a></h4>
<div class="paragraph">
<p>Uhoh! Made a mistake keying in a patient&#8217;s particulars? Or perhaps a patient had recently changed his address?<br>
Fret not! Simply update his particulars using the <code>edit</code> command!<br>
Alias: <code>e</code><br>
Format: <code>edit INDEX [n/NAME] [p/PHONE] [e/EMAIL] [a/ADDRESS] [t/TAG]&#8230;&#8203;</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Thing(s) to note:</div>
<div class="ulist">
<ul>
<li>
<p>The <code>INDEX</code> refers to the index number shown in the displayed patient list. It must be a <strong>non zero, positive integer</strong> (eg. 1, 2, 3&#8230;&#8203;)!</p>
</li>
<li>
<p>At least one of the optional parameters must be provided.</p>
</li>
<li>
<p>Existing values will be <strong>overwritten</strong> by the newly input values of the corresponding field.</p>
</li>
<li>
<p>You cannot edit the record of a patient that is currently in queue.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="title">Pro tip(s):</div>
You can remove <strong>all</strong> of a patient&#8217;s tags by typing the <code>t/</code> prefix without specifying any tags.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Upon successful execution, you should see the patient&#8217;s details updated in the patient list on the right.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>edit 5 p/98534228 e/clawyq@cs2101.com</code><br>
Updates the phone number and e-mail address of the 5th patient in the list to <code>98534228 ` and `<a href="mailto:clawyq@cs2101.com">clawyq@cs2101.com</a></code> respectively, as shown below.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/EditEx1.png" alt="EditEx1" width="600">
</div>
<div class="title">Figure 2. Before and after executing the <code>edit</code> command specified above.</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are the sections I have contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="big underline"><strong>Implementation of the Document class</strong></span></p>
</div>
<div class="sect2">
<h3 id="Document"><a class="link" href="#Document">Document</a></h3>
<div class="sect3">
<h4 id="implementation-of-code-document-code"><a class="link" href="#implementation-of-code-document-code">Implementation of <code>Document</code></a></h4>
<div class="paragraph">
<p>The <code>Document</code> abstract class represents all the documents that can be issued by the clinic. The <code>Receipt</code>,
 <code>MedicalCertificate</code> and <code>ReferralLetter</code> concrete classes, which respective <strong>commands</strong> will be referred
 to henceforth as <em>document related commands</em>, all inherit from. It can be thought of as a <strong>formatter</strong> that
 specifies and organises the common information that all these documents must have with the help of the <code>DocumentTemplate.html</code>
 template file.<br>
 Shown below is a class diagram  illustrating how <code>Document</code>, <code>Receipt</code>, <code>MedicalCertificate</code> and
 <code>ReferralLetter</code> relate to one another.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DocumentClassDiagram.png" alt="DocumentClassDiagram" width="900">
</div>
<div class="title">Figure 3. Class diagram representing how the <code>Document</code> and <em>document related</em> classes are implemented.</div>
</div>
<div class="paragraph">
<p>As the formatter which directs how the documents are built from the <code>DocumentTemplate.html</code> template, the <code>Document</code>
<code>abstract class</code> itself <strong>cannot</strong> be instantiated.  The <code>Document</code> <code>abstract class</code> has the following key features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>contains the <code>name</code> and <code>icNumber</code> attributes, extracted from the <code>ServedPatient</code> from which the document was constructed from.</p>
</li>
<li>
<p>has common methods like <code>generateContent</code> to standardise the way in which the contents of the <code>Document</code> are formatted.</p>
</li>
<li>
<p>has the <code>formatInformation</code> <code>abstract method</code> which the extending classes have to implement.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following activity diagram summarises what happens internally when a <em>document related command</em> is executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/DocumentActivityDiagram.png" alt="DocumentActivityDiagram" width="900">
</div>
<div class="title">Figure 4. Flow of activities when a <em>document related command</em> is executed. Only the methods that are <strong>implemented</strong> within <code>Document</code> itself are labelled in the diagram.</div>
</div>
<div class="paragraph">
<p>As seen in the above activity diagram, upon executing a <em>document related command</em>, the corresponding document will
be constructed from the <code>ServedPatient</code> object specified by the <code>index</code> that was passed in with the command,
 as detailed in the following steps.</p>
</div>
<div class="paragraph">
<p>Step 1. The resulting <em>document related object</em> will call the <code>generateDocument</code> method, which will first make a unique <code>fileName</code> for the file to be created, identified by the type of <code>Document</code>, <code>ServedPatient&#8217;s</code> <code>name</code> and <code>icNumber</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Java"><span class="directive">private</span> <span class="predefined-type">String</span> makeFileName() {
    <span class="keyword">return</span> (fileType + FILE_NAME_DELIMITER + <span class="string"><span class="delimiter">&quot;</span><span class="content">For</span><span class="delimiter">&quot;</span></span> + FILE_NAME_DELIMITER + name.toString()
        + FILE_NAME_DELIMITER + icNumber.toString())
        .replaceAll(<span class="string"><span class="delimiter">&quot;</span><span class="char">\\</span><span class="content">s</span><span class="delimiter">&quot;</span></span>, FILE_NAME_DELIMITER)
        .replaceAll(<span class="string"><span class="delimiter">&quot;</span><span class="content">(_)+</span><span class="delimiter">&quot;</span></span>, FILE_NAME_DELIMITER);
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>FILE_NAME_DELIMITER</code> is abstracted so as to allow users to change the delimiter to a <code>string</code> of their choice.
It is used as a means of separating fields of information in file names.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 2. The <code>DocumentTemplate.html</code> file is then converted into a <code>string</code>. It is a template with placeholder
values prefixed by a <code>$</code> that will be replaced with the actual information pertaining to the <code>ServedPatient&#8217;s</code>
consultation. Shown below is the code snippet that converts the <code>DocumentTemplate</code> <code>HTML</code> file into a <code>string</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Java"><span class="directive">private</span> <span class="predefined-type">String</span> convertHtmlIntoString() {
    <span class="predefined-type">StringBuilder</span> contentBuilder = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>();
    <span class="keyword">try</span> {
        <span class="predefined-type">BufferedReader</span> in = <span class="keyword">new</span> <span class="predefined-type">BufferedReader</span>(<span class="keyword">new</span> <span class="predefined-type">FileReader</span>(COMPLETE_TEMPLATE_PATH));
        <span class="predefined-type">String</span> str;
        <span class="keyword">while</span> ((str = in.readLine()) != <span class="predefined-constant">null</span>) {
            contentBuilder.append(str).append(<span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>);
        }
        in.close();
    } <span class="keyword">catch</span> (<span class="exception">IOException</span> e) {
        <span class="predefined-type">System</span>.out.println(TEMPLATE_LOCATE_FAILURE_ERROR_MESSAGE);
    }
    <span class="keyword">return</span> contentBuilder.toString();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Step 3. The <code>generateContent</code> method will then be called within the <code>writeContentsIntoDocumentTemplate</code> method.
The <code>generateContent</code> method will construct a <code>HashMap</code> of <code>string</code> to <code>string</code> key-value pairs. The keys are the aforementioned
placeholder <code>strings</code> prefixed by <code>$</code> found in the <code>HTML</code> template, while the values are the corresponding information that are to
substitute the placeholders in the <code>HTML</code> template(keys). The <code>writeContentsIntoDocumentTemplate</code> method will then use the
key-value pairs found in the <code>HashMap</code> created by the <code>generateContent</code> method to replace the placeholder values in the
<code>HTML</code> template.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Java"><span class="directive">private</span> <span class="predefined-type">String</span> writeContentsIntoDocumentTemplate() {
    <span class="predefined-type">String</span> htmlContent = convertHtmlIntoString();
    <span class="predefined-type">String</span> title = fileType + <span class="string"><span class="delimiter">&quot;</span><span class="content"> for </span><span class="delimiter">&quot;</span></span> + <span class="local-variable">this</span>.name;
    htmlContent = htmlContent.replace(<span class="string"><span class="delimiter">&quot;</span><span class="content">$title</span><span class="delimiter">&quot;</span></span>, title);
    <span class="predefined-type">HashMap</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; fieldValues = <span class="local-variable">this</span>.generateContent();
    <span class="keyword">for</span> (<span class="predefined-type">Map</span>.Entry&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; entry : fieldValues.entrySet()) {
        <span class="predefined-type">String</span> key = entry.getKey();
        <span class="predefined-type">String</span> value = entry.getValue();
        htmlContent = htmlContent.replace(key, value);
    }
    <span class="keyword">return</span> htmlContent;
}

<span class="directive">private</span> <span class="predefined-type">HashMap</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; generateContent() {
    <span class="predefined-type">HashMap</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; informationFieldPairs = <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;&gt;();
    informationFieldPairs.put(HEADER_PLACEHOLDER, generateHeaders());
    informationFieldPairs.put(NAME_PLACEHOLDER, name.toString());
    informationFieldPairs.put(ICNUMBER_PLACEHOLDER, icNumber.toString());
    informationFieldPairs.put(CONTENT_PLACEHOLDER, formatInformation());
    <span class="keyword">return</span> informationFieldPairs;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Step 4. Now that the <code>HTML</code> template is a <code>string</code> with the placeholder values replaced by the correct information, a <code>BufferedOutputStream</code>
is used to write the updated <code>string</code> into the <code>HTML</code> file, concluding the generation of the <code>Document</code> <code>HTML</code> file.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-implementation-of-the-document"><a class="link" href="#aspect-implementation-of-the-document">Aspect: Implementation of the Document</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Using an <code>abstract class</code> to implement <code>Document</code>.<br></p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Allows <code>inheriting</code> classes to use a standardised method to format common information while granting them the
flexibility of structuring the contents unique to its document type by means of <code>abstract methods</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Prevents <code>inheriting</code> classes from becoming an <code>Enum</code> as <code>Java</code> does not support <code>multiple inheritance</code>, since all <code>enums</code> implicitly inherit from <code>Enum</code>.</p>
</li>
<li>
<p>More computationally expensive than an <code>interface</code> due to the overhead incurred looking up <code>inherited methods</code> and various <code>class members</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Using an <code>interface</code> to implement <code>Document</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Can convert <code>inheriting</code> classes to <code>enums</code>, ensuring that the inputs fed to these classes are valid.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><code>Enums</code> can restrict the period of medical leave to be counted in only days/weeks. This prevents absurd scenarios like issuing a <code>Medical Certificate</code> that excuses a person from work/school for 10 <strong>years</strong>!</p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Unable to standardise the way <code>inheriting</code> classes implement the <code>generateHeader</code> method.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Potentially allow the <code>inheriting</code> classes to omit certain header fields that are relevant to the printing of a document, such as <code>date</code> and <code>time</code> of the consultation.</p>
</li>
<li>
<p>Information might be formatted differently.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p><span class="big underline"><strong>Implementation of the Receipt class</strong></span></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="implementation-of-code-receipt-code"><a class="link" href="#implementation-of-code-receipt-code">Implementation of <code>Receipt</code></a></h4>
<div class="paragraph">
<p>The <code>Receipt</code> class structure is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>contains a <code>Map&lt;Medicine, MedicineQuantity&gt;</code> attribute to record the quantity dispensed of each type of <code>Medicine</code> to the <code>ServedPatient</code> from which the <code>Receipt</code> was constructed from.</p>
</li>
<li>
<p>contains a <code>HashSet&lt;Service&gt;</code> attribute to record the <code>Services</code> administered to the patient.</p>
</li>
<li>
<p>has an attribute <code>totalPrice</code> which stores the total price of all the <code>Services</code> and <code>Medicines</code> received by the patient.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Users can generate a <code>Receipt</code> for a specific <code>ServedPatient</code> by invoking the <code>ReceiptCommand</code> accompanied by the
 served patient&#8217;s index in the <code>ServedPatientList</code>. The below sequence diagram illustrates how the <code>ReceiptCommand</code> works.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ReceiptSequenceDiagram.png" alt="ReceiptSequenceDiagram" width="900">
</div>
<div class="title">Figure 5. Sequence diagram for ReceiptCommand.</div>
</div>
<div class="paragraph">
<p>When the <code>ReceiptCommand</code> is executed, it will construct a new <code>Receipt</code> object and extract the relevant information
from the <code>ServedPatient</code> specified by the <code>index</code>.
Shown below is how the <code>Map&lt;Medicine, MedicineQuantity&gt;</code> of a <code>ServedPatient</code> is unpacked to sieve out the individual
 table entries for the cost of different medicines.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Java">    <span class="directive">private</span> <span class="predefined-type">String</span> unpackMedicineAllocation(<span class="predefined-type">Map</span>&lt;Medicine, QuantityToDispense&gt; medicineAllocated) {
        <span class="predefined-type">StringBuilder</span> stringBuilder = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>();
        <span class="keyword">for</span> (<span class="predefined-type">Map</span>.Entry&lt;Medicine, QuantityToDispense&gt; entry : medicineAllocated.entrySet()) {
            Medicine medicine = entry.getKey();
            <span class="predefined-type">String</span> medicineName = medicine.getMedicineName().toString();
            <span class="type">int</span> quantity = entry.getValue().getValue();
            <span class="type">float</span> pricePerUnit = <span class="predefined-type">Float</span>.parseFloat(medicine.getPricePerUnit().toString());
            <span class="type">float</span> totalPriceForSpecificMedicine = pricePerUnit * quantity;
            increaseTotalPriceBy(totalPriceForSpecificMedicine);
            stringBuilder.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;tr&gt;&lt;td&gt;</span><span class="delimiter">&quot;</span></span>)
                    .append(medicineName)
                    .append(<span class="local-variable">super</span>.HTML_TABLE_DATA_DIVIDER)
                    .append(quantity)
                    .append(<span class="local-variable">super</span>.HTML_TABLE_DATA_DIVIDER)
                    .append(<span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">&quot;</span><span class="content">%.02f</span><span class="delimiter">&quot;</span></span>, pricePerUnit))
                    .append(<span class="local-variable">super</span>.HTML_TABLE_DATA_DIVIDER)
                    .append(<span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">&quot;</span><span class="content">%.02f</span><span class="delimiter">&quot;</span></span>, totalPriceForSpecificMedicine))
                    .append(<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;/td&gt;&lt;/tr&gt;</span><span class="delimiter">&quot;</span></span>);
        }
        <span class="keyword">return</span> stringBuilder.toString();
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-09 12:40:11 UTC</div></div></div></body></html>